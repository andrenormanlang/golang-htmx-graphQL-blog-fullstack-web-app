// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.747
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func CreatePost(userID string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<!doctype html><html><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Create Post - BlogFlex</title><link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap\" rel=\"stylesheet\"><link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\" rel=\"stylesheet\"><!-- TinyMCE Script - Updated to version 8 --><script src=\"https://cdn.tiny.cloud/1/3ptuccpjxd9qd48kti566c6geohm1x5u2jhrl4szbz9l14ee/tinymce/8/tinymce.min.js\" referrerpolicy=\"origin\" crossorigin=\"anonymous\"></script><!-- Prism.js for code syntax highlighting --><link href=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-okaidia.css\" rel=\"stylesheet\"><script src=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js\"></script><script src=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-go.min.js\"></script><script src=\"https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js\"></script><style>\n\t\t\t\tbody {\n\t\t\t\t\tfont-family: 'Inter', sans-serif;\n\t\t\t\t\tbackground-color: #121212;\n\t\t\t\t\tcolor: #e0e0e0;\n\t\t\t\t}\n\t\t\t\t.container {\n\t\t\t\t\tmax-width: 1200px;\n\t\t\t\t}\n\t\t\t\t.card {\n\t\t\t\t\tbackground-color: #1e1e1e;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t}\n\t\t\t\t.card-body {\n\t\t\t\t\tpadding: 20px;\n\t\t\t\t}\n\t\t\t\t.card-title {\n\t\t\t\t\tcolor: #bb86fc;\n\t\t\t\t}\n\t\t\t\t.form-control {\n\t\t\t\t\tbackground-color: #2c2c2c;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tcolor: #e0e0e0;\n\t\t\t\t}\n\t\t\t\t.form-control:focus {\n\t\t\t\t\tbackground-color: #2c2c2c;\n\t\t\t\t\tcolor: #e0e0e0;\n\t\t\t\t}\n\t\t\t\t.btn-primary {\n\t\t\t\t\tbackground-color: #bb86fc;\n\t\t\t\t\tborder: none;\n\t\t\t\t}\n\t\t\t\t.btn-primary:hover {\n\t\t\t\t\tbackground-color: #3700b3;\n\t\t\t\t}\n\t\t\t\t/* Style for code blocks in TinyMCE */\n\t\t\t\t.mce-content-body pre {\n\t\t\t\t\tbackground-color: #2c2c2c;\n\t\t\t\t\tborder: 1px solid #444;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tpadding: 10px;\n\t\t\t\t\tcolor: #e0e0e0;\n\t\t\t\t\tfont-family: 'Courier New', Courier, monospace;\n\t\t\t\t\tline-height: 1.5;\n\t\t\t\t\twhite-space: pre-wrap;\n\t\t\t\t}\n\t\t\t\t.mce-content-body pre code {\n\t\t\t\t\tbackground: transparent;\n\t\t\t\t\tcolor: #e0e0e0;\n\t\t\t\t\tfont-family: 'Courier New', Courier, monospace;\n\t\t\t\t}\n\t\t\t\t/* Minimize visual impact of divs */\n\t\t\t\t.mce-content-body div {\n\t\t\t\t\tborder: none !important;\n\t\t\t\t}\n\t\t\t\t/* Ensure TinyMCE toolbar is visible */\n\t\t\t\t.tox-tinymce {\n\t\t\t\t\tz-index: 1000 !important;\n\t\t\t\t}\n\t\t\t\t/* Optional: Add min-height to textarea for consistency */\n\t\t\t\t#title {\n\t\t\t\t\tmin-height: 60px;\n\t\t\t\t}\n\t\t\t</style></head><body><div class=\"container mt-5\"><div class=\"row justify-content-center\"><div class=\"col-md-12\"><div class=\"card shadow-sm\"><div class=\"card-body\"><h1 class=\"card-title text-center mb-4\">Create a New Post</h1><form id=\"create-post-form\" hx-post=\"/protected/posts\" hx-redirect=\"true\" hx-target=\"#response-message\" hx-swap=\"innerHTML\" method=\"POST\"><div class=\"form-group\"><label for=\"title\">Title</label> <textarea id=\"title\" name=\"title\" rows=\"2\" class=\"form-control\" style=\"height: 50px; min-height: 60px;\" required></textarea></div><div class=\"form-group\"><label for=\"content\">Content</label> <textarea id=\"content\" name=\"content\" rows=\"10\" class=\"form-control\" required></textarea></div><input type=\"hidden\" name=\"user_id\" value=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(userID)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/create.templ`, Line: 102, Col: 59}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\"><div class=\"text-center\"><button type=\"submit\" class=\"btn btn-primary\">Create Post</button></div></form><div id=\"response-message\" class=\"mt-4\"></div></div></div></div></div></div><script>\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", function() {\n\t\t\t\t\tconsole.log(\"DOM loaded, initializing TinyMCE...\");\n\n\t\t\t\t\t// Initialize content editor\n\t\t\t\t\ttinymce.init({\n\t\t\t\t\t\tselector: '#content',\n\t\t\t\t\t\tplugins: 'anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount code',\n\t\t\t\t\t\ttoolbar: 'undo redo | codesample | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | code | removeformat',\n\t\t\t\t\t\tfontsize_formats: '8pt 10pt 12pt 14pt 18pt 24pt 36pt',\n\t\t\t\t\t\tcodesample_languages: [\n\t\t\t\t\t\t\t{ text: 'Text', value: 'text' },\n\t\t\t\t\t\t\t{ text: 'HTML/XML', value: 'markup' },\n\t\t\t\t\t\t\t{ text: 'JavaScript', value: 'javascript' },\n\t\t\t\t\t\t\t{ text: 'CSS', value: 'css' },\n\t\t\t\t\t\t\t{ text: 'Go', value: 'go' },\n\t\t\t\t\t\t\t{ text: 'Python', value: 'python' },\n\t\t\t\t\t\t],\n\t\t\t\t\t\tcodesample_global_prismjs: true,\n\t\t\t\t\t\tforced_root_block: 'p',\n\t\t\t\t\t\tverify_html: false,\n\t\t\t\t\t\tcleanup: false,\n\t\t\t\t\t\tvalid_elements: 'p,br,strong/em,b/i,ul/ol/li,a[href],pre/code[class|data-mce-type],img[src|alt|width|height],table,thead,tbody,tr,th,td,span[style]',\n\t\t\t\t\t\tpaste_preprocess: function(plugin, args) {\n\t\t\t\t\t\t\targs.content = args.content.replace(/<div>/gi, '<p>').replace(/<\\/div>/gi, '</p>');\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinit_instance_callback: function(editor) {\n\t\t\t\t\t\t\tvar content = editor.getContent();\n\t\t\t\t\t\t\tcontent = content.replace(/<div>/gi, '<p>').replace(/<\\/div>/gi, '</p>');\n\t\t\t\t\t\t\teditor.setContent(content);\n\t\t\t\t\t\t\tconsole.log(\"Content editor initialized successfully.\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent_style: 'body { font-family: Inter, sans-serif; background-color: #1e1e1e; color: #e0e0e0; } ' +\n\t\t\t\t\t\t\t'pre { background-color: #2c2c2c; border: 1px solid #444; border-radius: 4px; padding: 10px; color: #e0e0e0; font-family: \"Courier New\", Courier, monospace; line-height: 1.5; white-space: pre-wrap; } ' +\n\t\t\t\t\t\t\t'pre code { background: transparent; color: #e0e0e0; font-family: \"Courier New\", Courier, monospace; } ' +\n\t\t\t\t\t\t\t'div { margin: 0; padding: 0; }',\n\t\t\t\t\t\theight: 400,\n\t\t\t\t\t\tsetup: function(editor) {\n\t\t\t\t\t\t\teditor.on('change', function(e) {\n\t\t\t\t\t\t\t\teditor.save();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(function(editors) {\n\t\t\t\t\t\tconsole.log(\"TinyMCE content editor initialized:\", editors);\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\tconsole.error(\"TinyMCE content editor failed to initialize:\", error);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Initialize title editor\n\t\t\t\t\ttinymce.init({\n\t\t\t\t\t\tselector: '#title',\n\t\t\t\t\t\tplugins: 'autolink emoticons link wordcount',\n\t\t\t\t\t\ttoolbar: 'undo redo | fontfamily fontsize | bold italic underline | align lineheight | removeformat',\n\t\t\t\t\t\tmenubar: true,\n\t\t\t\t\t\tstatusbar: true,\n\t\t\t\t\t\tcontent_style: 'body { font-family: Inter, sans-serif; background-color: #2c2c2c; color: #e0e0e0; }',\n\t\t\t\t\t\theight: 100,\n\t\t\t\t\t\tmin_height: 60,\n\t\t\t\t\t\tsetup: function(editor) {\n\t\t\t\t\t\t\teditor.on('change', function(e) {\n\t\t\t\t\t\t\t\teditor.save();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(function(editors) {\n\t\t\t\t\t\tconsole.log(\"TinyMCE title editor initialized:\", editors);\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\tconsole.error(\"TinyMCE title editor failed to initialize:\", error);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Form submit handler\n\t\t\t\t\tdocument.getElementById('create-post-form').addEventListener('submit', function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tconst titleContent = tinymce.get('title') ? tinymce.get('title').getContent() : document.getElementById('title').value;\n\t\t\t\t\t\tconst contentContent = tinymce.get('content') ? tinymce.get('content').getContent() : document.getElementById('content').value;\n\t\t\t\t\t\tif (titleContent === '' || contentContent === '') {\n\t\t\t\t\t\t\talert('Both Title and Content are required.');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdocument.getElementById('title').value = titleContent;\n\t\t\t\t\t\tdocument.getElementById('content').value = contentContent;\n\t\t\t\t\t\tconst form = this;\n\t\t\t\t\t\tconst formData = new FormData(form);\n\t\t\t\t\t\tfetch(form.getAttribute('hx-post'), {\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tbody: formData,\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\t\t\tconst redirectUrl = response.headers.get('HX-Redirect');\n\t\t\t\t\t\t\t\tif (redirectUrl) {\n\t\t\t\t\t\t\t\t\twindow.location.href = redirectUrl;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn response.text().then(text => {\n\t\t\t\t\t\t\t\t\t\tdocument.getElementById('response-message').innerHTML = text || 'Post created successfully!';\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn response.text().then(text => {\n\t\t\t\t\t\t\t\t\tdocument.getElementById('response-message').innerHTML = text || 'Failed to create post.';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tconsole.error('Error:', error);\n\t\t\t\t\t\t\tdocument.getElementById('response-message').innerHTML = 'An error occurred while creating the post.';\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t</script><script src=\"https://unpkg.com/htmx.org@2.0.0/dist/htmx.min.js\"></script></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return templ_7745c5c3_Err
	})
}
